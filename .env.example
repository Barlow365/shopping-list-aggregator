# ============================================
# SHOPPING LIST AGGREGATOR - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git (it's in .gitignore)

# ============================================
# NODE ENVIRONMENT
# ============================================
NODE_ENV=development # development | production | test

# ============================================
# DATABASE (PostgreSQL 16)
# ============================================
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:password@localhost:5432/shopping_list_dev
DATABASE_URL_PROD=postgresql://postgres:password@your-railway-db.railway.app:5432/shopping_list_prod

# ============================================
# REDIS (Caching & Sessions)
# ============================================
REDIS_URL=redis://localhost:6379
REDIS_URL_PROD=redis://default:password@your-redis.railway.app:6379

# ============================================
# AUTHENTICATION (Lucia Auth)
# ============================================
# Session secret - generate with: openssl rand -base64 32
SESSION_SECRET=your-random-32-char-secret-here

# ============================================
# AWS S3 (Receipt Image Storage)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET_NAME=shopping-list-receipts

# ============================================
# API KEYS (Phase 2 - External APIs)
# ============================================
# Google Shopping API (for AID - Assisted Item Definition)
GOOGLE_SHOPPING_API_KEY=your-google-shopping-api-key

# Google Vision API (for OCR receipt scanning)
GOOGLE_VISION_API_KEY=your-google-vision-api-key

# ============================================
# FRONTEND (Next.js)
# ============================================
NEXT_PUBLIC_API_URL=http://localhost:3001/api
NEXT_PUBLIC_API_URL_PROD=https://your-api.railway.app/api

# ============================================
# BACKEND (Express API)
# ============================================
API_PORT=3001
API_CORS_ORIGIN=http://localhost:3000
API_CORS_ORIGIN_PROD=https://your-app.vercel.app

# ============================================
# MONITORING & ANALYTICS
# ============================================
# Sentry (Error Monitoring)
SENTRY_DSN=your-sentry-dsn
NEXT_PUBLIC_SENTRY_DSN=your-sentry-dsn

# PostHog (Analytics)
NEXT_PUBLIC_POSTHOG_KEY=your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_MAX=100 # Max requests per window
RATE_LIMIT_WINDOW=900000 # Window in ms (15 minutes)

# ============================================
# FILE UPLOAD LIMITS
# ============================================
MAX_RECEIPT_SIZE_MB=10
ALLOWED_RECEIPT_TYPES=image/jpeg,image/png,image/webp

# ============================================
# FEATURE FLAGS (Phase 0 - Toggle features)
# ============================================
FEATURE_AID_ENABLED=false # Assisted Item Definition
FEATURE_OCR_ENABLED=false # OCR receipt scanning
FEATURE_VOICE_ENABLED=false # Voice input
FEATURE_GROUPS_ENABLED=false # Group collaboration
